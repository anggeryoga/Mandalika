<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pendaftaran UT Mandalika</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Poppins', sans-serif;
            background-color: #f8fafc;
        }
        .form-section {
            transition: all 0.3s ease;
        }
        .form-section-header {
            cursor: pointer;
        }
        .form-section-header:hover {
            background-color: #f0f7ff;
        }
        .form-card {
            box-shadow: 0 4px 6px -1px rgba(0, 78, 146, 0.1), 0 2px 4px -1px rgba(0, 78, 146, 0.06);
        }
        .btn-primary {
            background-color: #004e92;
            transition: all 0.3s ease;
        }
        .btn-primary:hover {
            background-color: #003a6d;
            transform: translateY(-2px);
        }
        .input-error {
            border-color: #ef4444;
        }
        .error-message {
            color: #ef4444;
            font-size: 0.875rem;
        }
        .modal {
            transition: opacity 0.3s ease;
        }
        .progress-bar {
            height: 6px;
            background-color: #e2e8f0;
        }
        .progress-fill {
            height: 100%;
            background-color: #004e92;
            transition: width 0.4s ease;
        }
        .form-step {
            display: none;
        }
        .form-step.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
</head>
<body class="min-h-screen">
    <div class="container mx-auto px-4 py-8 max-w-4xl">
        <!-- Header -->
        <div class="text-center mb-8">
            <div class="flex justify-center mb-4">
                <div class="w-20 h-20 rounded-full bg-gradient-to-br from-blue-600 to-blue-900 flex items-center justify-center shadow-lg">
                    <i class="fas fa-graduation-cap text-3xl text-white"></i>
                </div>
            </div>
            <h1 class="text-3xl font-bold text-blue-900 mb-2">Pendaftaran Mahasiswa Baru</h1>
            <p class="text-lg text-gray-600">Universitas Terbuka Mandalika</p>
            
            <!-- Progress Bar -->
            <div class="mt-6 mb-8">
                <div class="progress-bar rounded-full overflow-hidden">
                    <div class="progress-fill rounded-full" style="width: 25%" id="progress-fill"></div>
                </div>
                <div class="flex justify-between mt-2 text-sm text-gray-600">
                    <span>Data Pribadi</span>
                    <span>Kontak & Alamat</span>
                    <span>Informasi Tambahan</span>
                    <span>Konfirmasi</span>
                </div>
            </div>
        </div>

        <!-- Form Container -->
        <div class="bg-white rounded-xl form-card p-6 md:p-8">
            <form id="registration-form" class="space-y-6">
                <!-- Step 1: Personal Data -->
                <div class="form-step active" id="step-1">
                    <!-- Program Studi -->
                    <div class="mb-8">
                        <h3 class="text-xl font-semibold text-blue-900 mb-4 border-b pb-2">Program Studi</h3>
                        <div>
                            <label for="study_program" class="block text-gray-700 font-medium mb-2">Jurusan/Program Studi <span class="text-red-500">*</span></label>
                            <select id="study_program" name="study_program" required
                                class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                                <option value="">Pilih Jurusan/Program Studi</option>
                                <option value="Teknik Informatika">Teknik Informatika</option>
                                <option value="Manajemen">Manajemen</option>
                                <option value="Akuntansi">Akuntansi</option>
                                <option value="Hukum">Hukum</option>
                                <option value="Ilmu Komunikasi">Ilmu Komunikasi</option>
                                <option value="Pendidikan Guru SD">Pendidikan Guru SD</option>
                                <option value="Psikologi">Psikologi</option>
                            </select>
                            <div id="study_program-error" class="error-message hidden mt-1">Jurusan harus dipilih</div>
                        </div>
                    </div>

                    <!-- Personal Data -->
                    <div class="mb-8">
                        <h3 class="text-xl font-semibold text-blue-900 mb-4 border-b pb-2">Data Pribadi</h3>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <div>
                                <label for="fullname" class="block text-gray-700 font-medium mb-2">Nama Lengkap <span class="text-red-500">*</span></label>
                                <input type="text" id="fullname" name="fullname" required
                                    class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
                                    placeholder="Nama sesuai ijazah">
                                <div id="fullname-error" class="error-message hidden mt-1">Nama lengkap harus diisi</div>
                            </div>
                            <div>
                                <label for="birthplace" class="block text-gray-700 font-medium mb-2">Tempat Lahir <span class="text-red-500">*</span></label>
                                <input type="text" id="birthplace" name="birthplace" required
                                    class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                                <div id="birthplace-error" class="error-message hidden mt-1">Tempat lahir harus diisi</div>
                            </div>
                            <div>
                                <label for="birthdate" class="block text-gray-700 font-medium mb-2">Tanggal Lahir <span class="text-red-500">*</span></label>
                                <input type="date" id="birthdate" name="birthdate" required
                                    class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                                <div id="birthdate-error" class="error-message hidden mt-1">Tanggal lahir harus diisi</div>
                            </div>
                            <div>
                                <label for="last_education" class="block text-gray-700 font-medium mb-2">Ijazah Terakhir <span class="text-red-500">*</span></label>
                                <select id="last_education" name="last_education" required
                                    class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                                    <option value="">Pilih pendidikan terakhir</option>
                                    <option value="SMA/MA/SMK">SMA/MA/SMK</option>
                                    <option value="Ponpes">Ponpes</option>
                                    <option value="D1">D1</option>
                                    <option value="D2">D2</option>
                                    <option value="D3">D3</option>
                                    <option value="S1">S1</option>
                                </select>
                                <div id="last_education-error" class="error-message hidden mt-1">Pendidikan terakhir harus dipilih</div>
                            </div>
                            <div>
                                <label for="religion" class="block text-gray-700 font-medium mb-2">Agama <span class="text-red-500">*</span></label>
                                <select id="religion" name="religion" required
                                    class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                                    <option value="">Pilih agama</option>
                                    <option value="Islam">Islam</option>
                                    <option value="Kristen">Kristen</option>
                                    <option value="Katolik">Katolik</option>
                                    <option value="Hindu">Hindu</option>
                                    <option value="Buddha">Buddha</option>
                                    <option value="Konghucu">Konghucu</option>
                                </select>
                                <div id="religion-error" class="error-message hidden mt-1">Agama harus dipilih</div>
                            </div>
                            <div>
                                <label class="block text-gray-700 font-medium mb-2">Jenis Kelamin <span class="text-red-500">*</span></label>
                                <div class="flex space-x-4">
                                    <label class="inline-flex items-center">
                                        <input type="radio" name="gender" value="L" required class="h-5 w-5 text-blue-600">
                                        <span class="ml-2 text-gray-700">Laki-laki</span>
                                    </label>
                                    <label class="inline-flex items-center">
                                        <input type="radio" name="gender" value="P" required class="h-5 w-5 text-blue-600">
                                        <span class="ml-2 text-gray-700">Perempuan</span>
                                    </label>
                                </div>
                                <div id="gender-error" class="error-message hidden mt-1">Jenis kelamin harus dipilih</div>
                            </div>
                            <div>
                                <label for="marital_status" class="block text-gray-700 font-medium mb-2">Status Perkawinan <span class="text-red-500">*</span></label>
                                <select id="marital_status" name="marital_status" required
                                    class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                                    <option value="">Pilih status</option>
                                    <option value="Belum Kawin">Belum Kawin</option>
                                    <option value="Kawin">Kawin</option>
                                    <option value="Cerai Hidup">Cerai Hidup</option>
                                    <option value="Cerai Mati">Cerai Mati</option>
                                </select>
                                <div id="marital_status-error" class="error-message hidden mt-1">Status perkawinan harus dipilih</div>
                            </div>
                            <div>
                                <label for="nik" class="block text-gray-700 font-medium mb-2">NIK <span class="text-red-500">*</span></label>
                                <input type="text" id="nik" name="nik" required
                                    class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
                                    placeholder="16 digit nomor NIK">
                                <div id="nik-error" class="error-message hidden mt-1">NIK harus diisi</div>
                            </div>
                        </div>
                    </div>

                    <div class="flex justify-between pt-4">
                        <div></div>
                        <button type="button" onclick="nextStep(2)" class="btn-primary text-white font-bold py-3 px-6 rounded-lg">
                            Selanjutnya <i class="fas fa-arrow-right ml-2"></i>
                        </button>
                    </div>
                </div>

                <!-- Step 2: Contact Information -->
                <div class="form-step" id="step-2">
                    <div class="mb-8">
                        <h3 class="text-xl font-semibold text-blue-900 mb-4 border-b pb-2">Informasi Kontak</h3>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <div>
                                <label for="mother_name" class="block text-gray-700 font-medium mb-2">Nama Ibu Kandung <span class="text-red-500">*</span></label>
                                <input type="text" id="mother_name" name="mother_name" required
                                    class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                                <div id="mother_name-error" class="error-message hidden mt-1">Nama ibu kandung harus diisi</div>
                            </div>
                            <div>
                                <label for="phone" class="block text-gray-700 font-medium mb-2">No WhatsApp Aktif <span class="text-red-500">*</span></label>
                                <div class="relative">
                                    <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                                        <span class="text-gray-500">+62</span>
                                    </div>
                                    <input type="tel" id="phone" name="phone" required
                                        class="w-full pl-12 px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
                                        placeholder="81234567890">
                                </div>
                                <div id="phone-error" class="error-message hidden mt-1">Nomor WhatsApp harus diisi</div>
                            </div>
                            <div>
                                <label for="email" class="block text-gray-700 font-medium mb-2">Email Aktif <span class="text-red-500">*</span></label>
                                <input type="email" id="email" name="email" required
                                    class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
                                    placeholder="email@contoh.com">
                                <div id="email-error" class="error-message hidden mt-1">Email harus diisi</div>
                            </div>
                        </div>
                    </div>

                    <!-- Address -->
                    <div class="mb-8">
                        <h3 class="text-xl font-semibold text-blue-900 mb-4 border-b pb-2">Alamat</h3>
                        <div>
                            <label for="address" class="block text-gray-700 font-medium mb-2">Alamat Rumah/Instansi Terdekat <span class="text-red-500">*</span></label>
                            <textarea id="address" name="address" rows="3" required
                                class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
                                placeholder="Jl. Contoh No. 123, Kecamatan, Kota/Kabupaten, Provinsi"></textarea>
                            <div id="address-error" class="error-message hidden mt-1">Alamat harus diisi</div>
                        </div>
                    </div>

                    <div class="flex justify-between pt-4">
                        <button type="button" onclick="prevStep(1)" class="text-gray-600 hover:text-gray-800 font-medium py-3 px-6 rounded-lg border border-gray-300">
                            <i class="fas fa-arrow-left mr-2"></i> Kembali
                        </button>
                        <button type="button" onclick="nextStep(3)" class="btn-primary text-white font-bold py-3 px-6 rounded-lg">
                            Selanjutnya <i class="fas fa-arrow-right ml-2"></i>
                        </button>
                    </div>
                </div>

                <!-- Step 3: Additional Information -->
                <div class="form-step" id="step-3">
                    <!-- Work Information -->
                    <div class="mb-8">
                        <h3 class="text-xl font-semibold text-blue-900 mb-4 border-b pb-2">Informasi Pekerjaan</h3>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <div>
                                <label for="job" class="block text-gray-700 font-medium mb-2">Pekerjaan</label>
                                <input type="text" id="job" name="job"
                                    class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
                                    placeholder="Posisi/jabatan">
                            </div>
                            <div>
                                <label for="workplace" class="block text-gray-700 font-medium mb-2">Instansi Tempat Kerja</label>
                                <input type="text" id="workplace" name="workplace"
                                    class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
                                    placeholder="Nama perusahaan/instansi">
                            </div>
                        </div>
                    </div>

                    <!-- Social Media -->
                    <div class="mb-8">
                        <h3 class="text-xl font-semibold text-blue-900 mb-4 border-b pb-2">Media Sosial</h3>
                        <div>
                            <label for="social_media" class="block text-gray-700 font-medium mb-2">Akun Media Sosial</label>
                            <textarea id="social_media" name="social_media" rows="2"
                                class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
                                placeholder="Contoh: TikTok: @user, IG: @user, FB: Nama, dll"></textarea>
                        </div>
                    </div>

                    <!-- Information Source -->
                    <div class="mb-8">
                        <h3 class="text-xl font-semibold text-blue-900 mb-4 border-b pb-2">Informasi Pendaftaran</h3>
                        <div>
                            <label for="info_source" class="block text-gray-700 font-medium mb-2">Dapat informasi dari mana? <span class="text-red-500">*</span></label>
                            <select id="info_source" name="info_source" required
                                class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                                <option value="">Pilih sumber informasi</option>
                                <option value="Media Sosial (IG/FB/TikTok)">Media Sosial (IG/FB/TikTok)</option>
                                <option value="Teman/Keluarga">Teman/Keluarga</option>
                                <option value="Brosur/Spanduk">Brosur/Spanduk</option>
                                <option value="Website UT Mandalika">Website UT Mandalika</option>
                                <option value="Google Search">Google Search</option>
                                <option value="Lainnya">Lainnya</option>
                            </select>
                            <div id="info_source-error" class="error-message hidden mt-1">Sumber informasi harus dipilih</div>
                        </div>
                        <div class="mt-4 hidden" id="other_source_container">
                            <label for="other_source" class="block text-gray-700 font-medium mb-2">Sebutkan sumber informasi lainnya</label>
                            <input type="text" id="other_source" name="other_source"
                                class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                        </div>
                    </div>

                    <div class="flex justify-between pt-4">
                        <button type="button" onclick="prevStep(2)" class="text-gray-600 hover:text-gray-800 font-medium py-3 px-6 rounded-lg border border-gray-300">
                            <i class="fas fa-arrow-left mr-2"></i> Kembali
                        </button>
                        <button type="button" onclick="nextStep(4)" class="btn-primary text-white font-bold py-3 px-6 rounded-lg">
                            Selanjutnya <i class="fas fa-arrow-right ml-2"></i>
                        </button>
                    </div>
                </div>

                <!-- Step 4: Confirmation -->
                <div class="form-step" id="step-4">
                    <div class="mb-8">
                        <h3 class="text-xl font-semibold text-blue-900 mb-6 text-center">Konfirmasi Data Pendaftaran</h3>
                        
                        <div class="bg-gray-50 rounded-lg p-6 mb-6">
                            <h4 class="font-semibold text-lg text-blue-900 mb-4">Data Pribadi</h4>
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                                <div>
                                    <p class="text-gray-500 text-sm">Nama Lengkap</p>
                                    <p class="font-medium" id="confirm-fullname">-</p>
                                </div>
                                <div>
                                    <p class="text-gray-500 text-sm">Tempat/Tanggal Lahir</p>
                                    <p class="font-medium" id="confirm-birth">-</p>
                                </div>
                                <div>
                                    <p class="text-gray-500 text-sm">Program Studi</p>
                                    <p class="font-medium" id="confirm-study_program">-</p>
                                </div>
                                <div>
                                    <p class="text-gray-500 text-sm">Pendidikan Terakhir</p>
                                    <p class="font-medium" id="confirm-last_education">-</p>
                                </div>
                            </div>
                            
                            <h4 class="font-semibold text-lg text-blue-900 mb-4 mt-6">Kontak & Alamat</h4>
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                                <div>
                                    <p class="text-gray-500 text-sm">No WhatsApp</p>
                                    <p class="font-medium" id="confirm-phone">-</p>
                                </div>
                                <div>
                                    <p class="text-gray-500 text-sm">Email</p>
                                    <p class="font-medium" id="confirm-email">-</p>
                                </div>
                                <div>
                                    <p class="text-gray-500 text-sm">Alamat</p>
                                    <p class="font-medium" id="confirm-address">-</p>
                                </div>
                            </div>
                            
                            <h4 class="font-semibold text-lg text-blue-900 mb-4 mt-6">Informasi Tambahan</h4>
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                <div>
                                    <p class="text-gray-500 text-sm">Sumber Informasi</p>
                                    <p class="font-medium" id="confirm-info_source">-</p>
                                </div>
                            </div>
                        </div>
                        
                        <div class="mb-6">
                            <label class="inline-flex items-center">
                                <input type="checkbox" id="declaration" name="declaration" required class="h-5 w-5 text-blue-600 rounded">
                                <span class="ml-2 text-gray-700">Saya menyatakan bahwa data yang saya isi adalah benar dan dapat dipertanggungjawabkan.</span>
                            </label>
                            <div id="declaration-error" class="error-message hidden mt-1">Anda harus menyetujui pernyataan ini</div>
                        </div>
                    </div>

                    <div class="flex justify-between pt-4">
                        <button type="button" onclick="prevStep(3)" class="text-gray-600 hover:text-gray-800 font-medium py-3 px-6 rounded-lg border border-gray-300">
                            <i class="fas fa-arrow-left mr-2"></i> Kembali
                        </button>
                        <button type="submit" class="btn-primary text-white font-bold py-3 px-6 rounded-lg">
                            <i class="fas fa-paper-plane mr-2"></i> Kirim Pendaftaran
                        </button>
                    </div>
                </div>
            </form>
        </div>
    </div>

    <!-- Success Modal -->
    <div id="success-modal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden z-50 modal">
        <div class="bg-white rounded-xl p-8 max-w-md mx-4">
            <div class="text-center">
                <div class="w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4">
                    <i class="fas fa-check-circle text-green-600 text-4xl"></i>
                </div>
                <h3 class="text-2xl font-bold text-gray-800 mb-4">🎉 Pendaftaran Berhasil!</h3>
                <p class="text-gray-600 mb-6">
                    Setelah masuk ke grup WhatsApp resmi UT Mandalika, mohon menuliskan <span class="font-semibold">nama dan jurusan</span> Anda sebagai salam pembuka perkenalan.
                    <br><br>
                    Semoga sukses menempuh pendidikan di UT Mandalika. Aamiin 🙏
                </p>
                <div class="mb-6">
                    <a href="https://chat.whatsapp.com/DLnQkFaVazcJ2wD2nny5Dv" target="_blank" class="inline-flex items-center justify-center bg-green-600 hover:bg-green-700 text-white font-medium py-2 px-4 rounded-lg transition-all">
                        <i class="fab fa-whatsapp mr-2 text-xl"></i> Gabung Grup WhatsApp
                    </a>
                </div>
                <button onclick="closeModal()" class="text-blue-900 hover:text-blue-700 font-medium transition-colors">
                    Tutup
                </button>
            </div>
        </div>
    </div>

    <script>
        // Form navigation
        let currentStep = 1;
        
        function nextStep(step) {
            if (!validateStep(currentStep)) return;
            
            document.getElementById(`step-${currentStep}`).classList.remove('active');
            document.getElementById(`step-${step}`).classList.add('active');
            currentStep = step;
            
            // Update progress bar
            const progressPercent = (step / 4) * 100;
            document.getElementById('progress-fill').style.width = `${progressPercent}%`;
            
            // If going to confirmation step, populate confirmation data
            if (step === 4) {
                populateConfirmationData();
            }
        }
        
        function prevStep(step) {
            document.getElementById(`step-${currentStep}`).classList.remove('active');
            document.getElementById(`step-${step}`).classList.add('active');
            currentStep = step;
            
            // Update progress bar
            const progressPercent = (step / 4) * 100;
            document.getElementById('progress-fill').style.width = `${progressPercent}%`;
        }
        
        // Validate current step before proceeding
        function validateStep(step) {
            let isValid = true;
            
            // Reset error states
            document.querySelectorAll('.error-message').forEach(el => el.classList.add('hidden'));
            document.querySelectorAll('input, select, textarea').forEach(el => el.classList.remove('input-error'));
            
            // Get all required fields in current step
            const requiredFields = document.querySelectorAll(`#step-${step} [required]`);
            
            requiredFields.forEach(field => {
                if (field.type === 'checkbox' && !field.checked) {
                    isValid = false;
                    document.getElementById(`${field.id}-error`).classList.remove('hidden');
                } 
                else if ((field.type !== 'checkbox' && !field.value) || 
                         (field.type === 'radio' && !document.querySelector(`input[name="${field.name}"]:checked`))) {
                    isValid = false;
                    field.classList.add('input-error');
                    const errorElement = document.getElementById(`${field.id}-error`);
                    if (errorElement) errorElement.classList.remove('hidden');
                }
            });
            
            if (!isValid) {
                // Scroll to first error
                const firstError = document.querySelector(`#step-${step} .input-error, #step-${step} .error-message:not(.hidden)`);
                if (firstError) {
                    firstError.scrollIntoView({ behavior: 'smooth', block: 'center' });
                }
            }
            
            return isValid;
        }
        
        // Populate confirmation data
        function populateConfirmationData() {
            document.getElementById('confirm-fullname').textContent = document.getElementById('fullname').value || '-';
            
            const birthplace = document.getElementById('birthplace').value;
            const birthdate = document.getElementById('birthdate').value;
            document.getElementById('confirm-birth').textContent = `${birthplace || '-'}, ${birthdate || '-'}`;
            
            document.getElementById('confirm-study_program').textContent = document.getElementById('study_program').value || '-';
            document.getElementById('confirm-last_education').textContent = document.getElementById('last_education').value || '-';
            
            const phone = document.getElementById('phone').value;
            document.getElementById('confirm-phone').textContent = phone ? `+62${phone}` : '-';
            
            document.getElementById('confirm-email').textContent = document.getElementById('email').value || '-';
            document.getElementById('confirm-address').textContent = document.getElementById('address').value || '-';
            
            const infoSource = document.getElementById('info_source').value;
            const otherSource = document.getElementById('other_source').value;
            document.getElementById('confirm-info_source').textContent = 
                infoSource === 'Lainnya' && otherSource ? otherSource : (infoSource || '-');
        }
        
        // Show other source field if "Lainnya" is selected
        document.getElementById('info_source').addEventListener('change', function() {
            const otherSourceContainer = document.getElementById('other_source_container');
            if (this.value === 'Lainnya') {
                otherSourceContainer.classList.remove('hidden');
            } else {
                otherSourceContainer.classList.add('hidden');
            }
        });
        
        // Form submission
        document.getElementById('registration-form').addEventListener('submit', function(e) {
            e.preventDefault();
            
            if (!validateStep(currentStep)) return;
            
            // Show success modal
            document.getElementById('success-modal').classList.remove('hidden');
            
            // You can submit the form data to server here
            // const formData = new FormData(this);
            // console.log(Object.fromEntries(formData));
        });
        
        // Close modal function
        function closeModal() {
            document.getElementById('success-modal').classList.add('hidden');
            document.getElementById('registration-form').reset();
            
            // Reset form to step 1
            document.querySelectorAll('.form-step').forEach(step => step.classList.remove('active'));
            document.getElementById('step-1').classList.add('active');
            currentStep = 1;
            document.getElementById('progress-fill').style.width = '25%';
        }
        
        // Input validation on blur
        document.querySelectorAll('input[required], select[required], textarea[required]').forEach(input => {
            input.addEventListener('blur', function() {
                if (!this.value) {
                    this.classList.add('input-error');
                    const errorElement = document.getElementById(`${this.id}-error`);
                    if (errorElement) errorElement.classList.remove('hidden');
                } else {
                    this.classList.remove('input-error');
                    const errorElement = document.getElementById(`${this.id}-error`);
                    if (errorElement) errorElement.classList.add('hidden');
                }
            });
        });
        
        // Radio button validation
        document.querySelectorAll('input[type="radio"][required]').forEach(radio => {
            radio.addEventListener('change', function() {
                document.getElementById('gender-error').classList.add('hidden');
            });
        });
        
        // Checkbox validation
        document.getElementById('declaration').addEventListener('change', function() {
            if (this.checked) {
                document.getElementById('declaration-error').classList.add('hidden');
            }
        });
    </script>
</body>
</html>